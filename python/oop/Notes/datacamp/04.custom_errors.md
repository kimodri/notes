
# Guide to Writing Custom Exceptions in Python

## 1. Why Use Custom Exceptions?

* Python has many built-in exceptions (`ValueError`, `TypeError`, etc.), but sometimes you need an error type that clearly communicates your own program’s rules.
* A **custom exception** makes your code more readable, descriptive, and easier to debug.


## 2. Defining a Custom Exception

* A custom exception is a class that usually inherits from `Exception` (or a subclass of it).
* The naming convention is to end with `Error`.

**Example:**

```python
class NegativeBalanceError(Exception):
    """Raised when a negative balance is provided to BankAccount."""
    pass
```


## 3. Using Custom Exceptions in a Class

Let’s apply it to a `BankAccount` example.

**Case:**

* If someone tries to open a bank account with a negative balance, raise `NegativeBalanceError`.

```python
class NegativeBalanceError(Exception):
    """Raised when a negative balance is provided to BankAccount."""
    pass


class BankAccount:
    def __init__(self, owner, balance=0):
        if balance < 0:
            raise NegativeBalanceError(
                f"Cannot create account with negative balance: {balance}"
            )
        self.owner = owner
        self.balance = balance

    def deposit(self, amount):
        if amount <= 0:
            raise ValueError("Deposit amount must be positive.")
        self.balance += amount

    def withdraw(self, amount):
        if amount > self.balance:
            raise ValueError("Insufficient funds.")
        self.balance -= amount
```


## 4. Handling the Custom Exception

When you use this class, you can handle errors with `try...except`:

```python
try:
    acc = BankAccount("Alice", -100)
except NegativeBalanceError as e:
    print("Error:", e)
```

Output:

```
Error: Cannot create account with negative balance: -100
```


## 5. Best Practices for Custom Exceptions

1. **Create a hierarchy if needed:**

   * Have a base exception for your domain, e.g. `BankAccountError`, then subclass it.

   ```python
   class BankAccountError(Exception):
       """Base class for bank account errors."""
       pass

   class NegativeBalanceError(BankAccountError):
       """Raised when balance is negative."""
       pass
   ```

2. **Use descriptive names:**

   * Always end with `Error`.

3. **Include helpful messages:**

   * The exception message should explain what went wrong and how to fix it.

4. **Use built-in exceptions if they are clear enough:**

   * For example, `ValueError` works well for invalid deposits or withdrawals, but a custom one is better for domain-specific rules.



## 6. Summary

* Custom exceptions make domain-specific rules explicit.
* In `BankAccount`, raise a `NegativeBalanceError` if initialized with a negative balance.
* Define them by subclassing `Exception`.
* Use `try...except` to handle them gracefully.
* Organize them in a hierarchy if you have multiple related errors.
